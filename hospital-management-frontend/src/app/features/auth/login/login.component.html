<div class="login-container">
	<div class="login-card-wrapper fade-in">
		<mat-card class="login-card medical-card">
			<!-- Header Section with Medical Branding -->
			<div class="card-header medical-gradient">
				<div class="logo-section">
					<div class="logo-container">
						<mat-icon class="logo-icon pulse-animation">local_hospital</mat-icon>
						<div class="logo-plus">+</div>
					</div>
					<div class="title-section">
						<h1 class="app-title">MediCare Pro</h1>
						<p class="app-subtitle">Advanced Healthcare Management System</p>
						<div class="trust-badges">
							<span class="badge">HIPAA Compliant</span>
							<span class="badge">ISO 27001</span>
						</div>
					</div>
				</div>
				<button mat-icon-button (click)="toggleTheme()" class="theme-toggle"
					[attr.aria-label]="isDarkMode ? 'Switch to light mode' : 'Switch to dark mode'"
					matTooltip="Toggle theme">
					<mat-icon>{{ isDarkMode ? 'light_mode' : 'dark_mode' }}</mat-icon>
				</button>
			</div>

			<!-- Login Form -->
			<mat-card-content class="card-content">
				<div class="welcome-section">
					<h2 class="welcome-title">Secure Access Portal</h2>
					<p class="welcome-subtitle">
						<mat-icon class="medical-icon">verified_user</mat-icon>
						Professional healthcare dashboard access
					</p>
				</div>

				<form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form medical-form">
					<!-- User Type Selection with Medical Icons -->
					<mat-form-field appearance="outline" class="full-width medical-field">
						<mat-label>
							<mat-icon class="field-icon">person</mat-icon>
							Access Level
						</mat-label>
						<mat-select formControlName="userType">
							<mat-option *ngFor="let type of userTypes" [value]="type.value">
								<div class="user-type-option">
									<mat-icon class="user-type-icon" [class]="'icon-' + type.value.toLowerCase()">{{
										type.icon }}</mat-icon>
									<div class="user-type-info">
										<span class="user-type-label">{{ type.label }}</span>
										<span class="user-type-desc">{{ type.description }}</span>
									</div>
									<mat-icon class="verified-icon" *ngIf="type.value !== 'Patient'">verified</mat-icon>
								</div>
							</mat-option>
						</mat-select>
						<mat-icon matSuffix>arrow_drop_down</mat-icon>
					</mat-form-field>

					<!-- User ID Field -->
					<mat-form-field appearance="outline" class="full-width medical-field">
						<mat-label>
							<mat-icon class="field-icon">badge</mat-icon>
							Medical ID / Username
						</mat-label>
						<input matInput formControlName="userId" placeholder="Enter your medical ID or username"
							autocomplete="username"
							[class.error]="loginForm.get('userId')?.invalid && loginForm.get('userId')?.touched">
						<mat-icon matSuffix color="primary">person</mat-icon>
						<mat-error>{{ getFieldError('userId') }}</mat-error>
					</mat-form-field>

					<!-- Password Field -->
					<mat-form-field appearance="outline" class="full-width medical-field">
						<mat-label>
							<mat-icon class="field-icon">lock</mat-icon>
							Secure Password
						</mat-label>
						<input matInput [type]="hidePassword ? 'password' : 'text'" formControlName="password"
							placeholder="Enter your secure password" autocomplete="current-password"
							[class.error]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched">
						<button mat-icon-button matSuffix type="button" (click)="hidePassword = !hidePassword"
							[attr.aria-label]="hidePassword ? 'Show password' : 'Hide password'"
							matTooltip="Toggle password visibility">
							<mat-icon>{{ hidePassword ? 'visibility_off' : 'visibility' }}</mat-icon>
						</button>
						<mat-error>{{ getFieldError('password') }}</mat-error>
					</mat-form-field>

					<!-- Security Notice -->
					<div class="medical-notification info">
						<mat-icon class="notification-icon">security</mat-icon>
						<div class="notification-content">
							<strong>Enterprise Security:</strong> Your data is protected with 256-bit encryption and
							multi-factor authentication
						</div>
					</div>

					<!-- Login Button -->
					<button mat-raised-button type="submit" color="primary"
						class="login-button full-width medical-button" [disabled]="!loginForm.valid || isLoading">
						<div class="button-content">
							<mat-spinner *ngIf="isLoading" diameter="20" class="login-spinner"></mat-spinner>
							<mat-icon *ngIf="!isLoading" class="button-icon">login</mat-icon>
							<span class="button-text">
								<span *ngIf="!isLoading">Secure Sign In</span>
								<span *ngIf="isLoading">Authenticating...</span>
							</span>
						</div>
					</button>

					<!-- Emergency Access -->
					<button mat-stroked-button type="button" class="emergency-access-button full-width"
						matTooltip="For emergency access only">
						<mat-icon>emergency</mat-icon>
						Emergency Access
					</button>
				</form>

				<!-- Footer Links -->
				<div class="form-footer">
					<div class="register-section medical-notification success">
						<mat-icon class="notification-icon">info</mat-icon>
						<div class="register-content">
							<p class="register-text">
								New healthcare professional?
								<a routerLink="/auth/register" class="register-link">Request Access</a>
							</p>
						</div>
					</div>

					<div class="help-section">
						<a href="#" class="help-link">
							<mat-icon>help_outline</mat-icon>
							Technical Support
						</a>
						<a href="#" class="forgot-link">
							<mat-icon>lock_reset</mat-icon>
							Reset Password
						</a>
					</div>

					<!-- Compliance Footer -->
					<div class="compliance-footer">
						<div class="compliance-badges">
							<span class="compliance-badge">
								<mat-icon>verified_user</mat-icon>
								HIPAA Compliant
							</span>
							<span class="compliance-badge">
								<mat-icon>security</mat-icon>
								SOC 2 Type II
							</span>
							<span class="compliance-badge">
								<mat-icon>gpp_good</mat-icon>
								FDA Approved
							</span>
						</div>
					</div>
				</div>
			</mat-card-content>
		</mat-card>
	</div>

	<!-- Medical Background Elements -->
	<div class="background-elements">
		<div class="medical-cross cross-1">
			<mat-icon>local_hospital</mat-icon>
		</div>
		<div class="medical-cross cross-2">
			<mat-icon>medical_services</mat-icon>
		</div>
		<div class="medical-cross cross-3">
			<mat-icon>health_and_safety</mat-icon>
		</div>
		<div class="floating-element element-1">
			<mat-icon>favorite</mat-icon>
		</div>
		<div class="floating-element element-2">
			<mat-icon>healing</mat-icon>
		</div>
		<div class="floating-element element-3">
			<mat-icon>monitor_heart</mat-icon>
		</div>
	</div>

	<!-- Medical Pattern Overlay -->
	<div class="pattern-overlay"></div>
</div>